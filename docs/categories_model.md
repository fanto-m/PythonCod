# Module: categories_model.py

> Path: `PythonCod-master/categories_model.py`

## üì¶ Imports
```python
PySide6.QtCore.Qt
PySide6.QtCore.QAbstractListModel
PySide6.QtCore.QModelIndex
PySide6.QtCore.Slot
PySide6.QtCore.Signal
database.DatabaseManager
```

## üß© Classes

### class CategoriesModel

–ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ —Ç–æ–≤–∞—Ä–æ–≤ –≤ Qt/QML-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

–≠—Ç–∞ –º–æ–¥–µ–ª—å –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç QAbstractListModel –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
–¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π —á–µ—Ä–µ–∑ QML. –ö–∞–∂–¥–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è
—Å–æ–¥–µ—Ä–∂–∏—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä, –Ω–∞–∑–≤–∞–Ω–∏–µ, –ø—Ä–µ—Ñ–∏–∫—Å SKU –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–∏—Ñ—Ä –≤ –Ω–æ–º–µ—Ä–µ SKU.

–ê—Ç—Ä–∏–±—É—Ç—ã —Ä–æ–ª–µ–π:
    IdRole (int): –†–æ–ª—å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.
    NameRole (int): –†–æ–ª—å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.
    PrefixRole (int): –†–æ–ª—å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–µ—Ñ–∏–∫—Å–∞ SKU.
    DigitsRole (int): –†–æ–ª—å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ü–∏—Ñ—Ä –≤ SKU.

–°–∏–≥–Ω–∞–ª—ã:
    errorOccurred (str): –°–∏–≥–Ω–∞–ª, –∏—Å–ø—É—Å–∫–∞–µ–º—ã–π –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –æ—à–∏–±–∫–∏
        –≤ –º–µ—Ç–æ–¥–∞—Ö –¥–æ–±–∞–≤–ª–µ–Ω–∏—è, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–ª–∏ —É–¥–∞–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.

```python
def __init__(self, parent)
```
–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –º–æ–¥–µ–ª—å –∫–∞—Ç–µ–≥–æ—Ä–∏–π.

–ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –º–µ–Ω–µ–¥–∂–µ—Ä—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π.

Args:
    parent (QObject, optional): –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –æ–±—ä–µ–∫—Ç Qt. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é None.

```python
def roleNames(self)
```
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª–µ–π –∏ –∏—Ö —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –∏–º—ë–Ω –¥–ª—è QML.

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è QML –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º –º–æ–¥–µ–ª–∏ –ø–æ –∏–º–µ–Ω–∞–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, `model.name`).

Returns:
    dict: –°–ª–æ–≤–∞—Ä—å, —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è—é—â–∏–π —Ä–æ–ª–∏ (int) —Å –±–∞–π—Ç–æ–≤—ã–º–∏ —Å—Ç—Ä–æ–∫–∞–º–∏ –∏–º—ë–Ω.

```python
def rowCount(self, parent)
```
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –≤ –º–æ–¥–µ–ª–∏.

Args:
    parent (QModelIndex, optional): –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω–¥–µ–∫—Å (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è,
        —Ç–∞–∫ –∫–∞–∫ –º–æ–¥–µ–ª—å –ø–ª–æ—Å–∫–∞—è). –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é QModelIndex().

Returns:
    int: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ (–∫–∞—Ç–µ–≥–æ—Ä–∏–π) –≤ –º–æ–¥–µ–ª–∏.

```python
def data(self, index, role)
```
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞ –∏ —Ä–æ–ª–∏.

Args:
    index (QModelIndex): –ò–Ω–¥–µ–∫—Å –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞.
    role (int, optional): –†–æ–ª—å –¥–∞–Ω–Ω—ã—Ö. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é Qt.DisplayRole.

Returns:
    –õ—é–±–æ–µ: –ó–Ω–∞—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (id, –∏–º—è, –ø—Ä–µ—Ñ–∏–∫—Å –∏–ª–∏ —Ü–∏—Ñ—Ä—ã SKU) –∏–ª–∏ None,
    –µ—Å–ª–∏ –∏–Ω–¥–µ–∫—Å –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º –∏–ª–∏ —Ä–æ–ª—å –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è.

```python
def loadCategories(self)
```
–ó–∞–≥—Ä—É–∂–∞–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –º–æ–¥–µ–ª—å.

–í—ã–∑—ã–≤–∞–µ—Ç beginResetModel() –∏ endResetModel() –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ
—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö.

```python
def addCategory(self, name, sku_prefix, sku_digits)
```
–î–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –º–æ–¥–µ–ª—å.

Args:
    name (str): –ù–∞–∑–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.
    sku_prefix (str): –ü—Ä–µ—Ñ–∏–∫—Å SKU –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.
    sku_digits (int): –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–∏—Ñ—Ä –≤ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º–æ–º SKU.

–ü—Ä–∏ –æ—à–∏–±–∫–µ –∏—Å–ø—É—Å–∫–∞–µ—Ç—Å—è —Å–∏–≥–Ω–∞–ª errorOccurred —Å —Ç–µ–∫—Å—Ç–æ–º –∏—Å–∫–ª—é—á–µ–Ω–∏—è.

```python
def updateCategory(self, category_id, new_name, sku_prefix, sku_digits)
```
–û–±–Ω–æ–≤–ª—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

Args:
    category_id (int): –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ–±–Ω–æ–≤–ª—è–µ–º–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.
    new_name (str): –ù–æ–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.
    sku_prefix (str): –ù–æ–≤—ã–π –ø—Ä–µ—Ñ–∏–∫—Å SKU.
    sku_digits (int): –ù–æ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–∏—Ñ—Ä –≤ SKU.

–ü—Ä–∏ –æ—à–∏–±–∫–µ –∏—Å–ø—É—Å–∫–∞–µ—Ç—Å—è —Å–∏–≥–Ω–∞–ª errorOccurred —Å —Ç–µ–∫—Å—Ç–æ–º –∏—Å–∫–ª—é—á–µ–Ω–∏—è.

```python
def deleteCategory(self, category_id)
```
–£–¥–∞–ª—è–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–æ –µ—ë –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É.

Args:
    category_id (int): –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —É–¥–∞–ª—è–µ–º–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.

–ü—Ä–∏ –æ—à–∏–±–∫–µ –∏—Å–ø—É—Å–∫–∞–µ—Ç—Å—è —Å–∏–≥–Ω–∞–ª errorOccurred —Å —Ç–µ–∫—Å—Ç–æ–º –∏—Å–∫–ª—é—á–µ–Ω–∏—è.

```python
def get(self, idx)
```
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ –∏–Ω–¥–µ–∫—Å—É –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ QML.

Args:
    idx (int): –ò–Ω–¥–µ–∫—Å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤ –º–æ–¥–µ–ª–∏.

Returns:
    dict: –°–ª–æ–≤–∞—Ä—å —Å –∫–ª—é—á–∞–º–∏ 'id', 'name', 'sku_prefix', 'sku_digits'.
          –ï—Å–ª–∏ –∏–Ω–¥–µ–∫—Å –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å–ª–æ–≤–∞—Ä—å —Å –ø—É—Å—Ç—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
          –∏ id = -1.

```python
def indexOfName(self, name)
```
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω–¥–µ–∫—Å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ –µ—ë –Ω–∞–∑–≤–∞–Ω–∏—é.

Args:
    name (str): –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.

Returns:
    int: –ò–Ω–¥–µ–∫—Å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤ —Å–ø–∏—Å–∫–µ `_categories`, –∏–ª–∏ -1, –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞.

```python
def getCategoryIdByName(self, name)
```
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ –µ—ë –Ω–∞–∑–≤–∞–Ω–∏—é.

Args:
    name (str): –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.

Returns:
    int: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –∏–ª–∏ -1, –µ—Å–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞.

```python
def generateSkuForCategory(self, category_id)
```
–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π SKU –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.

Args:
    category_id (int): –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.

Returns:
    str: –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π SKU –≤ —Ñ–æ—Ä–º–∞—Ç–µ "PREFIX0001", –∏–ª–∏ –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞,
         –µ—Å–ª–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–µ —É–¥–∞–ª–∞—Å—å.

## üìù Notes
This module was auto-documented.
