# ItemSuppliersModel

Модель данных для управления списком поставщиков, связанных с конкретным товаром в Qt/QML-приложении.

---

## Импорты

- `PySide6.QtCore`: предоставляет базовые классы Qt (`QAbstractListModel`, `Qt`, `Slot`, `Signal`).
- `database.DatabaseManager`: менеджер взаимодействия с базой данных.

---

## Класс `ItemSuppliersModel`

Наследуется от `QAbstractListModel`. Предназначен для интеграции списка поставщиков, связанных с конкретным товаром, с QML-интерфейсом. Поддерживает загрузку данных из базы данных и обновление при изменении артикула товара.

### Атрибуты ролей

| Роль           | Значение (Qt.UserRole + N) | Описание                     |
|----------------|----------------------------|------------------------------|
| `IdRole`       | `Qt.UserRole + 1`          | Идентификатор поставщика     |
| `NameRole`     | `Qt.UserRole + 2`          | Имя поставщика               |
| `CompanyRole`  | `Qt.UserRole + 3`          | Название компании            |
| `EmailRole`    | `Qt.UserRole + 4`          | Электронная почта            |
| `PhoneRole`    | `Qt.UserRole + 5`          | Телефон                      |
| `WebsiteRole`  | `Qt.UserRole + 6`          | Веб-сайт                     |

---

## Методы

### `__init__(self, article="")`

Инициализирует модель поставщиков.  
Создает подключение к менеджеру базы данных и загружает данные поставщиков для указанного артикула, если он предоставлен.

**Параметры:**  
- `article (str, optional)`: Артикул товара, для которого загружаются поставщики. По умолчанию пустая строка.

---

### `load(self)`

Загружает данные поставщиков для текущего артикула.  
Сбрасывает модель, получает идентификаторы поставщиков для текущего артикула из базы данных и загружает полные данные для соответствующих поставщиков.

---

### `roleNames(self)`

Возвращает сопоставление ролей и их строковых имен для QML.  
Используется QML для доступа к данным модели по именам (например, `model.name`).

**Возвращает:**  
- `dict`: словарь вида `{роль: b"имя"}`.

---

### `rowCount(self, parent=None)`

Возвращает количество строк в модели (число поставщиков).

**Параметры:**  
- `parent (QModelIndex, optional)`: Родительский индекс (не используется). По умолчанию `None`.

**Возвращает:**  
- `int`: Количество поставщиков в списке.

---

### `data(self, index, role=Qt.DisplayRole)`

Получает данные для указанного индекса и роли.

**Параметры:**  
- `index (QModelIndex)`: Индекс строки в модели.
- `role (int)`: Роль данных (например, `IdRole`, `NameRole`). По умолчанию `Qt.DisplayRole`.

**Возвращает:**  
- Значение, соответствующее роли, или `None`, если индекс или роль недействительны.

---

### `setArticle(self, article)`

Устанавливает новый артикул и перезагружает данные поставщиков.

**Параметры:**  
- `article (str)`: Артикул товара, для которого нужно загрузить поставщиков.

**Действия:**  
- Обновляет текущий артикул и вызывает метод `load` для обновления списка поставщиков.

---

### `get(self, index)`

Получает данные поставщика по указанному индексу в виде словаря.

**Параметры:**  
- `index (int)`: Индекс строки в модели.

**Возвращает:**  
- `dict`: Словарь с данными поставщика (`id`, `name`, `company`, `email`, `phone`, `website`) или словарь с пустыми значениями, если индекс недействителен.